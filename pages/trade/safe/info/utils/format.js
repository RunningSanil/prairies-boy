var config=require('../data'),money=require('../../../../../utils/money'),cdnImage=require('../../../../../utils/cdnImage');module.exports={parseSafeData(a){var b={};b.safe=a,b.type=config.stateMap[a.state]||'safe-ing',b.btns=config.btnsMap[a.state]||[],b.item_id=a.item_id;var c=a.log;c.forEach(f=>{f.ext_info=f.ext_info||[],f.ext_info=f.ext_info.map(g=>({src:g,srcPreview:cdnImage(g,'!200x200.jpg')}))}),b.log=c;var d=a.item||{},e='';return a.item.sku.forEach(f=>{e+=`${f.v} `}),d.skuStr=e,d.payPriceStr=money(a.item.pay_price).toYuan(),d.imgPreview=cdnImage(d.img_url,'!200x200.jpg'),d.orderStateStr=a.order_state.status_str,b.goods=d,b.timeout=1e3*a.timeout||0,b},parseRefundProcessData(a){a=a[0]||{};var b={};b.pay_method_str=a.pay_method_str||'',b.add_time=a.add_time;var c=[];c.push({text:`卖家退款(${a.add_time})`,done:!0}),c.push({text:`${a.pay_method_str}(${a.update_time})`,done:!0});var d={text:'\u786E\u8BA4\u5230\u8D26',done:!1};return 2==a.refund_state&&(d.text=`确认到账(${a.update_time})`,d.done=!0),c.push(d),b.steps=c,b}};